<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="../style.css">
        <link rel="stylesheet" type="text/css" href="../paren-soup-light.css">
    </head>
    <body>
        <span id="app"><div data-reactroot=""><div><div class="nses"><div><a href="../clj/edna.core.html">edna.core</a></div><div><div class="tag">CLJS</div><a href="../cljs/edna.examples.html">edna.examples</a></div><div><a href="../clj/edna.parse.html">edna.parse</a></div></div></div><div style="left:300px" class="vars"><div><center><h1>edna.core</h1></center></div><div class="var-info"><a href="../clj/edna.core/edna-&#x27;g&#x27;alda.html"><h2>(edna-&gt;alda content)</h2></a><div class="section doc">Converts from edna to alda format.</div><div class="section"><a href="../clj/edna.core/edna-&#x27;g&#x27;alda.html"><h3>+ Source</h3></a></div></div><div class="var-info"><a href="../clj/edna.core/edna-&#x27;g&#x27;alda&#x27;a&#x27;.html"><h2>edna-&gt;alda*</h2></a><div class="section doc">The underlying multimethod for converting edna to alda. You probably don&#x27;t need to use this.</div><div class="section"><a href="../clj/edna.core/edna-&#x27;g&#x27;alda&#x27;a&#x27;.html"><h3>+ Source</h3></a></div></div><div class="var-info"><a href="../clj/edna.core/edna-&#x27;g&#x27;data-uri.html"><h2>(edna-&gt;data-uri content)</h2></a><div class="section doc">Turns the edna content into a data URI for use in browsers.</div><div class="section"><a href="../clj/edna.core/edna-&#x27;g&#x27;data-uri.html"><h3>+ Source</h3></a></div></div><div class="var-info"><a href="../clj/edna.core/export&#x27;e&#x27;.html"><h2>(export! content opts)</h2></a><div class="section doc">Takes edna content and exports it, returning the value of :out. The `opts` map can contain:
 
  :type      - :midi, :wav, or :mp3 (required)
  :out       - A java.io.OutputStream or java.io.File object (optional, defaults to a ByteArrayOutputStream)
  :soundbank - A javax.sound.midi.Soundbank object (optional, defaults to a built-in soundbank)
  :format    - A javax.sound.sampled.AudioFormat object (optional, defaults to one with 44100 Hz)</div><div class="section"><a href="../clj/edna.core/export&#x27;e&#x27;.html"><h3>+ Source</h3></a></div></div><div class="var-info"><a href="../clj/edna.core/play&#x27;e&#x27;.html"><h2>(play! content)</h2></a><div class="section doc">Takes edna content and plays it. Returns a score map, which can be used to stop it later.</div><div class="section"><a href="../clj/edna.core/play&#x27;e&#x27;.html"><h3>+ Source</h3></a></div></div><div class="var-info"><a href="../clj/edna.core/stop&#x27;e&#x27;.html"><h2>(stop! score)</h2></a><div class="section doc">Stops the given score from playing. The `score` should be what was returned by `play!`.</div><div class="section"><a href="../clj/edna.core/stop&#x27;e&#x27;.html"><h3>+ Source</h3></a></div></div><div class="footer">Generated by <a href="https://github.com/oakes/Dynadoc" target="_blank">Dynadoc</a></div></div></div></span>
        <script type="text/edn" id="initial-state">{:type :clj, :ns-sym edna.core, :static? true, :cljs-nses-and-vars {edna.examples ({:sym aeriths-theme, :meta {}, :source "(def\r\n aeriths-theme\r\n (edna->data-uri\r\n  [:piano\r\n   {:octave 4, :tempo 74}\r\n   [1/8 #{:e :f# :-a :-d} :a 1/2 #{:f# :+d}]\r\n   [1/8 #{:-e :e :+c} :a 1/2 #{:e :c}]\r\n   [1/8 #{:e :f# :-a :-d} :a :+d :+c# :+e :+d :b :+c#]\r\n   [1/2 #{:-e :c :a} 1/2 #{:e :c}]]))\r\n", :examples [{:doc "A tune from Final Fantasy VII", :with-focus {:binding [:sym focus], :init-expr [:piano {:octave 4, :tempo 74} [1/8 #{:e :f# :-a :-d} :a 1/2 #{:f# :+d}] [1/8 #{:-e :e :+c} :a 1/2 #{:e :c}] [1/8 #{:e :f# :-a :-d} :a :+d :+c# :+e :+d :b :+c#] [1/2 #{:-e :c :a} 1/2 #{:e :c}]]}, :with-card card, :body (do (init-card card aeriths-theme) nil), :body-str "[:piano\r\n {:octave 4, :tempo 74}\r\n [1/8 #{:e :f# :-a :-d} :a 1/2 #{:f# :+d}]\r\n [1/8 #{:-e :e :+c} :a 1/2 #{:e :c}]\r\n [1/8 #{:e :f# :-a :-d} :a :+d :+c# :+e :+d :b :+c#]\r\n [1/2 #{:-e :c :a} 1/2 #{:e :c}]]\r\n", :id "edna.examples/aeriths-theme/0"}]} {:sym dueling-banjos, :meta {}, :source "(def\r\n dueling-banjos\r\n (edna->data-uri\r\n  #{[:guitar {:octave 3} 1/16 :r :r 1/8 :g :r :d :r :g :g :d]\r\n    [:banjo {:octave 3} 1/16 :b :+c 1/8 :+d :b :+c :a :b :g :a]}))\r\n", :examples [{:doc "Put different pieces in a set to make them play simultaneously", :with-focus {:binding [:sym focus], :init-expr #{[:guitar {:octave 3} 1/16 :r :r 1/8 :g :r :d :r :g :g :d] [:banjo {:octave 3} 1/16 :b :+c 1/8 :+d :b :+c :a :b :g :a]}}, :with-card card, :body (do (init-card card dueling-banjos) nil), :body-str "#{[:guitar {:octave 3} 1/16 :r :r 1/8 :g :r :d :r :g :g :d]\r\n  [:banjo {:octave 3} 1/16 :b :+c 1/8 :+d :b :+c :a :b :g :a]}\r\n", :id "edna.examples/dueling-banjos/0"}]} {:sym intro-1-single-notes, :meta {}, :source "(def intro-1-single-notes (edna->data-uri [:piano :c :d :e :f]))\r\n", :examples [{:doc "A few notes, one at a time", :with-focus {:binding [:sym focus], :init-expr [:piano :c :d :e :f]}, :with-card card, :body (do (init-card card intro-1-single-notes) nil), :body-str "[:piano :c :d :e :f]\r\n", :id "edna.examples/intro-1-single-notes/0"}]} {:sym intro-2-attributes, :meta {}, :source "(def\r\n intro-2-attributes\r\n (edna->data-uri [:piano :c :d {:octave 3} :c :d]))\r\n", :examples [{:doc "Hash maps let you change the attributes of everything that comes after them.\n   Here are all the attributes you can change:\n   \n   :octave        - The octave (default is 4)\n   :length        - The note length (default is 1/4)\n   :tempo         - How fast or slow notes are played (default is 120)\n   :pan           - How far left/right the note is panned in your speaker (default is 50)\n   :quantize      - The percentage of a note's full duration that is heard (default is 90)\n   :transpose     - Moves all notes up or down by a desired number of semitones (default is 0)\n   :volume        - The volume (default is 100)\n   :key-signature - A set of sharp (#) or flat (=) notes, which set the default accidental\n                    for that note when it doesn't include an accidental (default is #{})\n   :play?         - Whether or not to play (default is true)\n   \n   Read more about attributes here:\n   https://github.com/alda-lang/alda/blob/master/doc/attributes.md", :with-focus {:binding [:sym focus], :init-expr [:piano :c :d {:octave 3} :c :d]}, :with-card card, :body (do (init-card card intro-2-attributes) nil), :body-str "[:piano :c :d {:octave 3} :c :d]\r\n", :id "edna.examples/intro-2-attributes/0"}]} {:sym intro-3-octave, :meta {}, :source "(def intro-3-octave (edna->data-uri [:piano :c :-c :+2c]))\r\n", :examples [{:doc "You can change an individual note's relative octave with a + or - inside the keyword.\n   If you want to change by more than one octave, just put a number after.", :with-focus {:binding [:sym focus], :init-expr [:piano :c :-c :+2c]}, :with-card card, :body (do (init-card card intro-3-octave) nil), :body-str "[:piano :c :-c :+2c]\r\n", :id "edna.examples/intro-3-octave/0"}]} {:sym intro-4-length, :meta {}, :source "(def intro-4-length (edna->data-uri [:piano :c :d 1/2 :e :f]))\r\n", :examples [{:doc "A shorthand way of changing the note length is simply to write the number.", :with-focus {:binding [:sym focus], :init-expr [:piano :c :d 1/2 :e :f]}, :with-card card, :body (do (init-card card intro-4-length) nil), :body-str "[:piano :c :d 1/2 :e :f]\r\n", :id "edna.examples/intro-4-length/0"}]} {:sym intro-5-chord, :meta {}, :source "(def intro-5-chord (edna->data-uri [:piano #{:c :d}]))\r\n", :examples [{:doc "A chord is just notes in a set", :with-focus {:binding [:sym focus], :init-expr [:piano #{:c :d}]}, :with-card card, :body (do (init-card card intro-5-chord) nil), :body-str "[:piano #{:c :d}]\r\n", :id "edna.examples/intro-5-chord/0"}]})}, :nses ({:var-syms [edna->data-uri export! edna->alda stop! play! edna->alda*], :type :clj, :sym edna.core} {:var-syms [aeriths-theme dueling-banjos intro-1-single-notes intro-2-attributes intro-3-octave intro-4-length intro-5-chord], :type :cljs, :sym edna.examples} {:var-syms [accidentals accidental->keyword note? digits instruments parse notes octave-operators parse-note], :type :clj, :sym edna.parse}), :ns-meta nil, :vars [{:sym edna->alda, :meta {:arglists ([content]), :doc "Converts from edna to alda format."}, :source "(defn edna->alda\n  \"Converts from edna to alda format.\"\n  [content]\n  (->> default-attrs\n       (edna->alda* (parse/parse content))\n       first))", :spec nil, :examples []} {:sym edna->alda*, :meta {:doc "The underlying multimethod for converting edna to alda. You probably don't need to use this."}, :source "(defmulti edna->alda*\n  \"The underlying multimethod for converting edna to alda. You probably don't need to use this.\"\n  (fn [val parent-attrs] (first val)))", :spec nil, :examples []} {:sym edna->data-uri, :meta {:arglists ([content]), :doc "Turns the edna content into a data URI for use in browsers."}, :source "(defn edna->data-uri\n  \"Turns the edna content into a data URI for use in browsers.\"\n  [content]\n  (str\n    \"data:audio/mp3;base64,\"\n    (-> (binding [*out* (java.io.StringWriter.)]\n          (export! content {:type :mp3}))\n        .toByteArray\n        (base64/encode)\n        (String. \"UTF-8\"))))", :spec nil, :examples []} {:sym export!, :meta {:arglists ([content opts]), :doc "Takes edna content and exports it, returning the value of :out. The `opts` map can contain:\n \n  :type      - :midi, :wav, or :mp3 (required)\n  :out       - A java.io.OutputStream or java.io.File object (optional, defaults to a ByteArrayOutputStream)\n  :soundbank - A javax.sound.midi.Soundbank object (optional, defaults to a built-in soundbank)\n  :format    - A javax.sound.sampled.AudioFormat object (optional, defaults to one with 44100 Hz)"}, :source "(defn export!\n  \"Takes edna content and exports it, returning the value of :out. The `opts` map can contain:\n \n  :type      - :midi, :wav, or :mp3 (required)\n  :out       - A java.io.OutputStream or java.io.File object (optional, defaults to a ByteArrayOutputStream)\n  :soundbank - A javax.sound.midi.Soundbank object (optional, defaults to a built-in soundbank)\n  :format    - A javax.sound.sampled.AudioFormat object (optional, defaults to one with 44100 Hz)\"\n  [content opts]\n  (binding [sound/*play-opts* {:async? false\n                               :one-off? true}]\n    (export!* content\n      (-> opts\n          (update :out #(or % (java.io.ByteArrayOutputStream.)))\n          (update :soundbank #(or % @default-soundbank))\n          (update :format #(or % (AudioFormat. 44100 16 2 true false)))))))", :spec nil, :examples []} {:sym play!, :meta {:arglists ([content]), :doc "Takes edna content and plays it. Returns a score map, which can be used to stop it later."}, :source "(defn play!\n  \"Takes edna content and plays it. Returns a score map, which can be used to stop it later.\"\n  [content]\n  (binding [sound/*play-opts* {:async? true\n                               :one-off? true}]\n    (-> content edna->alda als/score sound/play! :score)))", :spec nil, :examples []} {:sym stop!, :meta {:arglists ([score]), :doc "Stops the given score from playing. The `score` should be what was returned by `play!`."}, :source "(defn stop!\n  \"Stops the given score from playing. The `score` should be what was returned by `play!`.\"\n  [score]\n  (some-> score sound/tear-down!)\n  nil)", :spec nil, :examples []}], :rel-path "../", :check-for-updates? false}</script>
        <script type="text/javascript" src="../main.js"></script>
    </body>
</html>
